<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Map Explorer PRO ‚ú®</title>
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet" href="css/style.css">
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Itim&family=Mali:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏±‡∏Å -->
  <div id="map"></div>
  
  <!-- ‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° -->
  <div class="controls">
    <div class="controls-header">
      <div class="logo">
        <svg class="globe-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM4 12C4 11.39 4.08 10.79 4.21 10.22L8 13.91V15C8 16.1 8.9 17 10 17H14V19.19C13.35 19.39 12.68 19.5 12 19.5C7.59 19.5 4 16.09 4 12ZM19.31 15.68C18.87 15.25 18.22 15 17.5 15H17V13C17 12.45 16.55 12 16 12H8V10H10C10.55 10 11 9.55 11 9V7H13C14.1 7 15 6.1 15 5V4.59C17.93 5.78 20 8.65 20 12C20 13.32 19.75 14.57 19.31 15.68Z"/>
        </svg>
        <h1>Map Explorer <span>PRO</span></h1>
      </div>
      <div class="control-buttons">
        <button id="toggle-sound" class="toggle-btn sound-btn">
          <svg id="sound-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z"/>
          </svg>
          <span>‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á</span>
        </button>
        <button id="toggle-leaderboard" class="toggle-btn">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M15 7H20.5L15 1.5V7M8 0H16L22 6V18C22 19.1 21.1 20 20 20H8C6.89 20 6 19.1 6 18V2C6 0.89 6.89 0 8 0M10 4C8.9 4 8 4.9 8 6C8 7.1 8.9 8 10 8C11.1 8 12 7.1 12 6C12 4.9 11.1 4 10 4M4 4C2.9 4 2 4.9 2 6V20C2 21.1 2.9 22 4 22H18V20H4V4Z"/>
          </svg>
          <span>‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</span>
        </button>
      </div>
    </div>
    
    <div class="search-container">
      <input type="text" id="destination" placeholder="‡∏õ‡πâ‡∏≠‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏õ‡∏•‡∏≤‡∏¢‡∏ó‡∏≤‡∏á..." />
      <button id="navigate" class="primary-btn">
        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path d="M3.9,17.4L2.5,19L1,17.5L9.2,9.3L13.6,13.6L17.4,9.8C18.2,9 19.5,9 20.3,9.8C21.1,10.6 21.1,11.9 20.3,12.7L16.4,16.6L13,13.1L3.9,17.4Z"/>
        </svg>
        <span>‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏à‡∏∏‡∏î‡∏´‡∏°‡∏≤‡∏¢</span>
      </button>
    </div>
  </div>
  
  <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á Leaderboard -->
  <div class="leaderboard-container active">
    <div class="leaderboard">
      <div class="leaderboard-header">
        <h2>
          <svg class="star-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12,17.27L18.18,21L16.54,13.97L22,9.24L14.81,8.62L12,2L9.19,8.62L2,9.24L7.45,13.97L5.82,21L12,17.27Z"/>
          </svg>
          Top 5 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
        </h2>
      </div>
      <div class="leaderboard-content">
        <ul id="top-places">
          <!-- ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏î‡πâ‡∏ß‡∏¢ JavaScript -->
        </ul>
      </div>
    </div>
  </div>
  
  <!-- ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô -->
  <div id="rating-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</h2>
        <button id="close-rating" class="close-btn">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="rating-place-info">
          <h3 id="rating-place-name">‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£</h3>
          <div class="score-animation-container">
            <div class="score-counter" id="score-counter">0</div>
            <div class="score-label">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
          </div>
        </div>
        <div class="rating-progress">
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
          </div>
        </div>
        <p class="rating-message">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πâ...</p>
        <!-- ‡∏•‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏≠‡∏≠‡∏Å ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß -->
      </div>
    </div>
  </div>
  
  <!-- Notification Toast -->
  <div id="notification" class="notification">
    <div class="notification-content">
      <svg class="notification-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/>
      </svg>
      <span id="notification-message">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!</span>
    </div>
  </div>
  
  <!-- Volume Control Panel -->
  <div id="volume-control" class="volume-container">
    <h3 style="margin: 0 0 10px; font-size: 16px;">üéµ ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏á</h3>
    <div style="width: 100%;">
      <div style="display: flex; align-items: center; margin-bottom: 5px;">
        <span style="font-size: 12px; margin-right: 10px;">üé∂ ‡πÄ‡∏û‡∏•‡∏á</span>
        <input type="range" id="music-volume" class="volume-slider" min="0" max="100" value="40">
      </div>
      <div style="display: flex; align-items: center;">
        <span style="font-size: 12px; margin-right: 10px;">üîä ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå</span>
        <input type="range" id="effects-volume" class="volume-slider" min="0" max="100" value="60">
      </div>
    </div>
  </div>

  <!-- ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏™‡∏µ‡∏¢‡∏á -->
  <div id="audio-system" style="display: none;">
    <!-- ‡πÄ‡∏û‡∏•‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á (‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏ö‡∏ö loop) -->
    <audio id="background-music" loop>
      <source src="assets/music/music.mp3" type="audio/mp3">
    </audio>
    
    <!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÜ -->
    <audio id="sound-celebration" preload="auto">
      <source src="assets/sounds/celebration.mp3" type="audio/mp3">
    </audio>
    <audio id="sound-chime" preload="auto">
      <source src="assets/sounds/chime.mp3" type="audio/mp3">
    </audio>
    <audio id="sound-high-rating" preload="auto">
      <source src="assets/sounds/high-rating.mp3" type="audio/mp3">
    </audio>
    <audio id="sound-rating" preload="auto">
      <source src="assets/sounds/rating.mp3" type="audio/mp3">
    </audio>
    <audio id="sound-request" preload="auto">
      <source src="assets/sounds/request.mp3" type="audio/mp3">
    </audio>
    <audio id="sound-transition" preload="auto">
      <source src="assets/sounds/transition.mp3" type="audio/mp3">
    </audio>
  </div>

  <!-- Custom Styles for Distance Labels -->
  <style>
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡πâ‡∏≤‡∏¢‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏£‡∏ß‡∏° */
    .distance-label {
      background-color: rgba(255, 255, 255, 0.9);
      border: 2px solid #FFDA4A;
      border-radius: 15px;
      padding: 5px 10px;
      font-family: 'Mali', sans-serif;
      font-weight: 600;
      font-size: 13px;
      color: #7c6c77;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
      animation: distance-pulse 2s infinite;
    }
    
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡πâ‡∏≤‡∏¢‡πÅ‡∏™‡∏î‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠ */
    .remaining-distance {
      background-color: rgba(255, 255, 255, 0.9);
      border: 2px solid #80E8B6;
      border-radius: 15px;
      padding: 5px 10px;
      font-family: 'Mali', sans-serif;
      font-weight: 600;
      font-size: 13px;
      color: #7c6c77;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      z-index: 1000;
    }
    
    .remaining-distance-icon {
      margin-right: 5px;
      font-size: 16px;
    }
    
    /* ‡πÅ‡∏≠‡∏ô‡∏¥‡πÄ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡πâ‡∏≤‡∏¢‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á */
    @keyframes distance-pulse {
      0% {
        transform: scale(1);
        opacity: 0.9;
      }
      50% {
        transform: scale(1.05);
        opacity: 1;
      }
      100% {
        transform: scale(1);
        opacity: 0.9;
      }
    }
    
    /* ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á popup ‡∏Ç‡∏≠‡∏á leaflet */
    .leaflet-popup-content-wrapper {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      border: 3px solid #FF78A9;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .leaflet-popup-tip {
      background: #FF78A9;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }
    
    .leaflet-popup-content {
      margin: 13px 19px;
      line-height: 1.4;
      font-family: 'Mali', sans-serif;
      font-size: 14px;
      color: #7c6c77;
    }
    
    .custom-popup {
      display: flex;
      align-items: center;
      padding: 5px;
    }
    
    .custom-popup-icon {
      margin-right: 8px;
      font-size: 18px;
    }
    
    .custom-popup-text {
      font-weight: 600;
    }
  </style>

  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <!-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ä‡∏£‡πå‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå JS -->
  <script>
    // ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏ä‡∏£‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà (‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏≤‡∏Å rating.js ‡πÑ‡∏î‡πâ)
    let map;
  </script>
  <!-- Custom JS -->
  <script src="js/sound.js"></script>
  <script src="js/map.js"></script>
  <script src="js/rating.js"></script>
  <script src="js/ui.js"></script>
</body>
</html>